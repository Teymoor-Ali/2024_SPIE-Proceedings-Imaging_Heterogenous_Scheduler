\pgfplotsset{width=0.6\linewidth,compat=1.3}
\begin{tikzpicture}
    % Kernel Energy Axis
    \begin{axis}[
        width  = 0.8\linewidth,
        major x tick style = transparent,
        ybar,
        ymin=0, ymax=25,
        bar width=20pt,
        enlarge y limits={upper=0.15},
        legend image code/.code={\draw[#1, draw=none] (0cm,-0.1cm) rectangle (0.3cm,0.1cm);},
        ymajorgrids = false,
        ylabel = {\textbf{Kernel Energy (J) / Total Energy (J)}},
        symbolic x coords={CPU,GPU,FPGA,Heterogeneous},
        xtick = data,
        nodes near coords,
        nodes near coords style={font=\small, anchor=west,rotate=90,inner xsep=0.9pt,black},
        yticklabel style={/pgf/number format/fixed,/pgf/number format/precision=2,/pgf/number format/fixed zerofill}, % Ensure full numbers are shown
        scaled y ticks = false,
        enlarge x limits=0.20,
        legend cell align=left,
        legend style={at={(0.7,0.9)},
                       anchor=west,legend columns=1, font=\small},
        axis on top,
    ]
        % Total Energy Data Plots
        \addplot[style={blue,fill=blue!60}, every node near coord/.append style={rotate=0, anchor=west,inner xsep=20pt}]
            coordinates {(CPU, 17.30) (GPU, 16.30) (FPGA, 0.82) (Heterogeneous, 15.00)}; % Histogram Equalisation + ResNet-50
        \addplot[style={darkcandyapplered,fill=darkcandyapplered}, every node near coord/.append style={rotate=0, anchor=west,inner xsep=20pt}]
            coordinates {(CPU, 7.80) (GPU, 4.70) (FPGA, 0.51) (Heterogeneous, 5.00)}; % Gaussian Filter + MobilnetV2
        \addplot[style={forestgreen,fill=forestgreen!70}, every node near coord/.append style={rotate=0, anchor=west,inner xsep=20pt}]
            coordinates {(CPU, 18.33) (GPU, 11.09) (FPGA, 0.45) (Heterogeneous, 12.00)}; % RGB2Gray + InceptionV3
        \legend{Hist+Resnet50, Gauss+MobilnetV2, R2G+InceptionV3}
    \end{axis}

    % Kernel Energy Axis
    \begin{axis}[
        width  = 0.8\linewidth,
        major x tick style = transparent,
        ybar,
        ymin=0, ymax=25,
        bar width=20pt,
        enlarge y limits={upper=0.15},
        legend image code/.code={\draw[#1, draw=none] (0cm,-0.1cm) rectangle (0.3cm,0.1cm);},
        ymajorgrids = false,
        ylabel = {\textbf{}},
        axis y line*=right,
        axis x line=none,
        symbolic x coords={CPU,GPU,FPGA,Heterogeneous},
        xtick = \empty,
        ytick style = {draw=none}, % Hides the y-axis ticks
        yticklabels = {}, % Hides the y-axis labels
        nodes near coords,
        nodes near coords style={font=\small, anchor=west,rotate=90,inner xsep=0.5pt,black,shift={(-2.5pt,0pt)}}, % Adjust shift as needed
        yticklabel style={/pgf/number format/fixed,/pgf/number format/precision=2,/pgf/number format/fixed zerofill}, % Ensure full numbers are shown
        scaled y ticks = false,
        enlarge x limits=0.20,
        legend cell align=left,
        legend style={at={(0.5,1.05)},
                       anchor=west,legend columns=4, font=\small},
    ]
        % Kernel Energy Data Plots
        \addplot[style={blue,fill=blue!30},]
            coordinates {(CPU, 2.78) (GPU, 0.33) (FPGA, 0.29) (Heterogeneous, 0.27)}; % Histogram Equalisation + ResNet-50
        \addplot[style={darkcandyapplered,fill=darkcandyapplered!30}]
            coordinates {(CPU, 0.98) (GPU, 0.26) (FPGA, 0.19) (Heterogeneous, 0.17)}; % Gaussian Filter + MobilnetV2
        \addplot[style={forestgreen,fill=forestgreen!30}, every node near coord/.append style={rotate=0, anchor=west,inner xsep=0pt}]
            coordinates {(CPU, 3.60) (GPU, 0.44) (FPGA, 0.37) (Heterogeneous, 0.35)}; % RGB2Gray + InceptionV3
    \end{axis}
\end{tikzpicture}